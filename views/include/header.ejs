<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>朱安邦博客</title>
    <link href="/lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
</head>
<body >
<!--最外面的容器nav标签，并添加nav-bar样式类，表示这里面属于导航条 -->
<nav class="navbar navbar-default " role="navigation">
    <!--第二步：增加header-->
    <div class="navbar-header">
        <!--最左侧的，默认不可见 按钮标签里嵌套了三个span的icon。然后给与navbar-toggle样式类和属性collapse(收起)，点击的时候目标为data-target。当窗口缩小到一定程度，右侧的效果显现。-->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menus">
            <span class="sr-only">朱安邦博客</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">朱安邦博客</a>
    </div>
    <!-- 放置其它的导航条 -->
    <div class="collapse navbar-collapse" id="menus">
        <ul class="nav navbar-nav">
            <%
            if(user){
                %>
                    <li><a href="/articles/add">发表文章</a></li>
                <%
            }else{
                %>
                    <li class="active"><a href="/users/reg">注册</a></li>
                    <li><a href="/users/login">登录</a></li>
                <%
            }
             %>
        </ul>
        <!--下面是搜索信息-->
        <form class="navbar-form navbar-left" role="search" method="get" action="/articles/list/1/2">
            <div class="form-group">
                <input type="text" name="keyword" value="<%=keyword%>" class="form-control" placeholder="搜索关键字">
            </div>
            <button type="submit" class="btn btn-default">搜索</button>
        </form>

        <!--下面是用户信息-->
        <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><%=user?user.username:""%> <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="/users/logout">登出</a></li>
                </ul>
            </li>
        </ul>
     </div>
     </nav>
     <!--下面是flash的代码；代表登录成功和失败，success和error要喝user中设置的一样-->
<%
if(success){
    %>
    <div class="alert alert-success" role="alert"><%=success %></div>
    <%
     }else if(error){
    %>
    <div class="alert alert-danger" role="alert"><%=error %></div>
    <%
 }
%>